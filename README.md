# STM32-CPU-Fan-Controller-with-RPM-Monitoring
Project Overview
This project involves creating a system to control and monitor the RPM (Revolutions Per Minute) of a fan using an STM32 microcontroller. The RPM of the fan is continuously measured and transmitted via UART to a PC, where it can be visualized or logged. Additionally, the system can receive commands from the cloud (or a PC via UART) to set the fan RPM to a specific value, which is then reflected by adjusting the PWM signal controlling the fan's speed.

**Key Features**
RPM Measurement: The microcontroller continuously measures the RPM of a fan using an input signal from the fan's tachometer.

UART Communication: The measured RPM is transmitted over UART to the PC or cloud for monitoring.

PWM Control: The fan's RPM can be adjusted by modifying the PWM signal based on incoming commands.

Cloud Integration: The system is designed to receive RPM set commands from the cloud via UART and adjust the fan speed accordingly.

**Project Components**
Hardware
STM32 Microcontroller (e.g., C031C6): Acts as the main controller, responsible for managing tasks like RPM measurement, UART communication, and PWM signal generation.

Fan with Tachometer: The fan provides a tachometer signal (usually a pulse train) to measure the RPM.

PWM Driver: A PWM signal is generated by the STM32 to control the fan's speed by adjusting the duty cycle.

UART Interface: The STM32 uses UART communication to send and receive data from a PC or cloud service.

Software
FreeRTOS: The FreeRTOS real-time operating system is used to manage two tasks:

Task 1: Periodically measures and transmits the current RPM of the fan to the PC.

Task 2: Receives RPM set commands from the PC or cloud and adjusts the PWM signal to control the fan speed.

HAL (Hardware Abstraction Layer): STM32 HAL libraries are used to handle communication, GPIO configuration, and PWM generation.

STM32CubeMX: This tool is used to configure the STM32's peripherals and middleware (including FreeRTOS and PWM generation).

Project Workflow
RPM Measurement:

The microcontroller measures the fan's RPM using the tachometer signal. A timer interrupt is used to count pulses from the tachometer.

The RPM is calculated based on the number of pulses in a given time period.

UART Communication:

The calculated RPM value is transmitted to a PC via UART. The PC can use this data for display, logging, or cloud integration.

Receiving RPM Set Commands:

The microcontroller listens for UART commands from the PC or cloud that specify a desired RPM.

Upon receiving the RPM command, the microcontroller calculates the appropriate PWM duty cycle to achieve the desired fan speed.

PWM Signal Generation:

The PWM signal is used to control the fan speed. By adjusting the duty cycle of the PWM, the fan speed is increased or decreased based on the received RPM command.

Cloud Integration:

The PC or cloud-based application can send a set RPM command to the STM32 via UART. The system receives this command, adjusts the PWM signal, and changes the fan's RPM.

**System Architecture**
Task 1: RPM Measurement and UART Transmission

This task reads the tachometer signal, calculates the RPM, and sends it over UART to the PC every second.

Task 2: UART Reception and PWM Adjustment

This task continuously receives commands from the PC or cloud (e.g., "SET RPM 1500") and adjusts the PWM signal to control the fan speed.


![WhatsApp Image 2025-06-24 at 20 56 12](https://github.com/user-attachments/assets/031ba482-28a2-4084-8c77-fd4a3e7cfeaa)

### Prerequisites
- [STM32CubeIDE v1.11+](https://www.st.com/en/development-tools/stm32cubeide.html)
- STM32C0xx HAL Library
- STM32 Nucleo C0310C6
- CPU ExhaustFan NB-BlacksilentPro
  

### Build Steps
Clone the repository
 
Open Project:

Launch STM32CubeIDE

File → Import → Existing Projects into Workspace

Select the repository folder



